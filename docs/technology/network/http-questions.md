---
description: 实践中 HTTP 比较容易混淆，不容易理解的一些问题梳理
---

# HTTP 的一些知识点梳理

网络有大把 http2、http3 的各种文章和性能测试，这里就不再重复了，我主要梳理了下实践中比较容易混淆，不容易理解的一些问题

## HTTP 和 TCP 的关系

HTTP 是应用层协议，TCP 是传输层协议，HTTP 依赖于 TCP 来传输数据，浏览器因此有不一样的表现

-   HTTP/1.0 使用短连接，HTTP 请求和 TCP 一一对应，即一个 TCP 连接只能传输一个 HTTP 请求和响应，传输完毕后就关闭连接，下次请求需要重新建立连接
-   HTTP/1.1 默认使用长连接，一个 TCP 连接可以传输多个 HTTP 请求和响应。但是 **TCP 连接的复用是串行的**，一个请求的响应没有返回时，后续请求只能等待。这样就导致了队头阻塞问题，一个请求的响应时间过长，会影响后续请求的响应时间。为了同时发送多个请求，浏览器会为每个域名创建多个 TCP 连接（一般为 6 个），这就是 HTTP 有并发限制的原因。
-   HTTP/2 进一步优化，**支持在单个 TCP 连接上进行多路复用，进行 HTTP 并发请求**，浏览器只需要为每个域名创建一个 TCP 连接。这大大减少了需要创建的 TCP 连接数量，从而减少了 TCP 连接的建立和关闭的开销。虽然 HTTP/2 协议本身没有并发请求的限制，但是浏览器和服务器可能会设置自己的限制，实际上，浏览器和服务器可能会设置自己的并发流的限制，以防止资源过度使用。例如，Chrome 浏览器默认限制每个 TCP 连接上的并发流数量为 100。这个限制可以通过浏览器的设置进行调整。
-   HTTP/3 使用了 QUIC 协议，基于 UDP，减少握手时间，解决 TCP 队头阻塞问题，如果使用 0-RTT ,将进一步提高了传输效率
